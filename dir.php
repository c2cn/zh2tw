<?php/** * 简体转换繁体工具 *  * 用途： * 简体转繁体 *  * 特点： * 实现了词汇转换 *  * @author 宋健 * @version 0.1, 2012-1-9 */set_time_limit(0);date_default_timezone_set('PRC');header("Content-type: text/html; charset=utf-8");include_once('ZhConversion.php');//需要转换到文件目录$dir_path = array(    'C:\Documents and Settings\jian\My Documents\新建文件夹\\');$suffix = array('php','html','css','txt'); //需要转换到文件类型$file_charset = ''; //导入文件的文件编码，留空为UTF-8foreach($dir_path as $c){    $dir_addr[] = iconv('UTF-8','GBK',$c);}foreach($dir_addr as $dr){    $dir = opendir($dr);    readdir($dir);readdir($dir);    while(($file = readdir($dir)) !== false) {        if(is_file($dr.$file)){            $file_info = pathinfo($dr.$file);            if(in_array($file_info['extension'],$suffix)) {                $input = !empty($file_charset)?iconv($file_charset,'UTF-8',file_get_contents($dr.$file)):file_get_contents($dr.$file);                $new_needle = array_merge($zh2TW, $zh2Hant);                $needle = array_keys($new_needle);                $output = !empty($file_charset)?iconv('UTF-8',$file_charset,str_replace($needle, $new_needle, $input)):str_replace($needle, $new_needle, $input);                file_put_contents($dr.$file,$output);            }        }    }    closedir($dir);}